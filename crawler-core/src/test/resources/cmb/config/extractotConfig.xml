<?xml version="1.0" encoding="UTF-8"?>
<config>
	<extrator-selectors>
		<selector field="subject" contain="招商银行信用卡电子账单$" dis-contain="" ref="xiangban_page-extractor_1"></selector>
		<selector field="subject" contain="招商银行信用卡电子账单.+" dis-contain="" ref="jianban-page-extractor_1"></selector>
		<selector field="subject" contain="白金" dis-contain="" ref="baijin_page-extractor_1"></selector>
		<selector field="subject" contain="黑金" dis-contain="" ref="heijin_page-extractor_1"></selector>
		<selector field="pageContent" contain="CREDIT CARD STATEMENT" dis-contain="" ref="ebank_page-extractor_1"></selector>
	</extrator-selectors>

	<page-extractor-definition>
		<page-extractor id="xiangban_page-extractor_1">
			<page-sources>
				<source field="pageContent"></source>
			</page-sources>
			<object-segment name="bankBills">
				<field-extractor id="basicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[//span/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[尊敬的([^，]*)..，.好.*卡(\d{2})月.*Cycle([\d/]*)-((\d{4})[\d/]*).*Date([\d/]*).*Credit ?Limit￥([-\.\d,]*).*New ?Balance￥([-\.\d,]*).*Advance *Limit￥([-\.\d,]*).*Payment￥([-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="yearTemp" field="temp" field-visible-type="request" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="5"></operation>
				</field-extractor>

				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="2"></operation>
					<operation type="append" index="0">${yearTemp}</operation>
				</field-extractor>
				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="1"></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="BillStartDate" field="BillStartDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="BillDate" field="BillDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="CreditLimit" field="CreditLimit" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="8"></operation>
				</field-extractor>
				<field-extractor id="CashAdvanceLimit" field="CashAdvanceLimit" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="9"></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="10"></operation>
				</field-extractor>

				<field-extractor id="detailTempMatcher" field="temp" not-empty="true">
					<operation type="xpath"><![CDATA[tr:contains(上期账单金额):not(:contains(最低还款额)) + tr:matches([\d\.]{3,}) tr:contains(￥):not(:has(tr))/text(@@)]]></operation>
					<operation type="regex"><![CDATA[￥[-\.\d,]*@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="LastBalance" field="LastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="LastPayment" field="LastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="NewCharges" field="NewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="Adjustment" field="Adjustment" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="Interest" field="Interest" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 积分 -->
				<field-extractor id="integralTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(本期新增积分)+ tr:matches(\d)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[(\d+)@@\d+@@(\d+)@@(\d+)@@(\d+)@@(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="field-extractor_15" field="Integral" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_16" field="IntegralAdd" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_17" field="IntegralAdjust" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="IntegralReward" field="IntegralReward" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_18" field="IntegralUsed" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 外币账户 -->
				<field-extractor id="fcBasicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(美元账户) + tr:contains(本期还款总额)/text( )]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[New Balance *(\$[-\.\d,]*).*Payment *(\$[-\.\d,]*).*Interest (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="FCNewBalance" field="FCNewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="FCMinPayment" field="FCMinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="FCLastBalance" field="FCLastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="FCLastPayment" field="FCLastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="5"></operation>
				</field-extractor>
				<field-extractor id="FCNewCharges" field="FCNewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="FCAdjustment" field="FCAdjustment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="FCInterest" field="FCInterest" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="8"></operation>
				</field-extractor>

				<object-segment name="ShoppingSheet" type="xpath" value="tr:contains(记账日):contains(Trans Date):not(:matches(\d{4})) ~ tr:matches(\d{4}) tr:matches(\d+):not(:has(tr))">
					<field-extractor id="shoppingSheetMatcher" field="temp">
						<operation type="xpath"><![CDATA[/text(@@)]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation from=" " to="" type="replace"></operation>
						<operation type="regex"><![CDATA[(\d{4})?@@(\d{4})?@@(.*)@@(.[-\.\d,]*\.\d{2})@@(\d{4})]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="1"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="2"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="Description" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="3"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="AmountMoney" result-type="currency_payment">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="CardNo" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="5"></operation>
					</field-extractor>
				</object-segment>
			</object-segment>
		</page-extractor>

		<page-extractor id="jianban-page-extractor_1">
			<page-sources>
				<source field="pageContent"></source>
			</page-sources>
			<object-segment name="bankBills">
				<!-- 普通简版 -->
				<field-extractor id="basicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[//span/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[尊敬的([^，]*)..，.好.*(\d{4})年(\d{2})月(.*还款日[^\d]*(\d.*日)。)?.*￥([-\.\d,]*)(＄[-\.\d,]*).*￥([-\.\d,]*)(＄[-\.\d,]*)]]></operation>
				</field-extractor>

				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string">
					<operation type="matchgroup" source="basicInfoMatcher" index="1"></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="yearTemp" field="temp">
					<operation type="matchgroup" source="basicInfoMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM">
					<operation type="matchgroup" source="basicInfoMatcher" index="3"></operation>
					<operation type="append" index="0">${yearTemp}</operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy年MM月dd日">
					<operation type="matchgroup" source="basicInfoMatcher" index="5"></operation>
					<operation type="append" index="0">${yearTemp}年</operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="FCNewBalance" field="FCNewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="8"></operation>
				</field-extractor>
				<field-extractor id="FCMinPayment" field="FCMinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="9"></operation>
				</field-extractor>

				<!-- 简版新版 -->
				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM" stand-by="true" not-empty="true">
					<operation type="regex" index="1"><![CDATA[billMonth=(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string" stand-by="true" not-empty="true">
					<operation type="regex" index="1"><![CDATA[尊敬的([^< &]*)..[< &]+]]></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" not-empty="true" stand-by="true">
					<operation type="regex" index="1"><![CDATA[账单金额为([^<]*元)]]></operation>
				</field-extractor>
			</object-segment>
		</page-extractor>

		<page-extractor id="baijin_page-extractor_1">
			<page-sources>
				<source field="pageContent"></source>
			</page-sources>
			<object-segment name="bankBills">
				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="regex" index="1"><![CDATA[billMonth=(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="yearTemp" field="temp" source="BillMonth" field-visible-type="request" not-empty="true">
					<operation type="regex" index="1"><![CDATA[(\d{4})]]></operation>
				</field-extractor>

				<field-extractor id="basicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[//body/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[尊敬的([^，]*)..，.好.*(\d{4})年.*还款日[^\d]*(\d.*日)。.*￥([-\.\d,]*)＄.*￥([-\.\d,]*)＄[\w\W]*Interest *￥[-\.\d,]*(￥[-\.\d,]*)(￥[-\.\d,]*)(￥[-\.\d,]*)(￥[-\.\d,]*)(￥[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string">
					<operation type="matchgroup" source="basicInfoMatcher" index="1"></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="5"></operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy年MM月dd日">
					<operation type="matchgroup" source="basicInfoMatcher" index="3"></operation>
					<operation type="append" index="0">${yearTemp}年</operation>
				</field-extractor>
				<field-extractor id="LastBalance" field="LastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="LastPayment" field="LastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="NewCharges" field="NewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="8"></operation>
				</field-extractor>
				<field-extractor id="Adjustment" field="Adjustment" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="9"></operation>
				</field-extractor>
				<field-extractor id="Interest" field="Interest" result-type="currency_payment">
					<operation type="matchgroup" source="basicInfoMatcher" index="10"></operation>
				</field-extractor>

				<!-- baijin201502.html 另一种白金模板 -->
				<field-extractor id="basicInfoMatcher2" field="temp">
					<operation type="xpath"><![CDATA[//body/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[亲爱的(.*)..，.好.*Cycle([\d/]+)-(\d{4}[\d/]+).*Date([\d/]+).*Balance(￥[-\.\d,]+).*Payment(￥[-\.\d,]+)]]></operation>
				</field-extractor>

				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string" not-empty="true" stand-by="true">
					<operation type="matchgroup" source="basicInfoMatcher2" index="1"></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="BillStartDate" field="BillStartDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher2" index="2"></operation>
				</field-extractor>
				<field-extractor id="BillDate" field="BillDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher2" index="3"></operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher2" index="4"></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" not-empty="true" stand-by="true">
					<operation type="matchgroup" source="basicInfoMatcher2" index="5"></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment" not-empty="true" stand-by="true">
					<operation type="matchgroup" source="basicInfoMatcher2" index="6"></operation>
				</field-extractor>

				<field-extractor id="detailTempMatcher" field="temp" not-empty="true">
					<operation type="xpath"><![CDATA[tr:contains(上期账单金额):not(:contains(最低还款额)) + tr:matches([\d\.]{3,}) tr:contains(￥):not(:has(tr))/text(@@)]]></operation>
					<operation type="regex"><![CDATA[￥[-\.\d,]*@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="LastBalance" field="LastBalance" result-type="currency_payment" stand-by="true">
					<operation type="matchgroup" source="detailTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="LastPayment" field="LastPayment" result-type="currency_payment" stand-by="true">
					<operation type="matchgroup" source="detailTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="NewCharges" field="NewCharges" result-type="currency_payment" stand-by="true">
					<operation type="matchgroup" source="detailTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="Adjustment" field="Adjustment" result-type="currency_payment" stand-by="true">
					<operation type="matchgroup" source="detailTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="Interest" field="Interest" result-type="currency_payment" stand-by="true">
					<operation type="matchgroup" source="detailTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 积分 -->
				<field-extractor id="integralTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(本期新增积分)+ tr:matches(\d)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[(\d+)@@\d+@@(\d+)@@(\d+)@@(\d+)@@(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="field-extractor_15" field="Integral" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_16" field="IntegralAdd" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_17" field="IntegralAdjust" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="IntegralReward" field="IntegralReward" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_18" field="IntegralUsed" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 外币账户 -->
				<field-extractor id="fcBasicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(美元账户) + tr:contains(本期还款总额)/text( )]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[New Balance *(\$[-\.\d,]*).*Payment *(\$[-\.\d,]*).*Interest (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="FCNewBalance" field="FCNewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="FCMinPayment" field="FCMinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="FCLastBalance" field="FCLastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="FCLastPayment" field="FCLastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="5"></operation>
				</field-extractor>
				<field-extractor id="FCNewCharges" field="FCNewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="FCAdjustment" field="FCAdjustment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="FCInterest" field="FCInterest" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="8"></operation>
				</field-extractor>

				<object-segment name="ShoppingSheet" type="xpath" value="tr:contains(记账日):contains(Trans Date):not(:matches(\d{4})) ~ tr:matches(\d{4}) tr:matches(\d+):not(:has(tr))">
					<field-extractor id="shoppingSheetMatcher" field="temp">
						<operation type="xpath"><![CDATA[/text(@@)]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="regex"><![CDATA[(\d{4})?@@(\d{4})?@@(.*)@@(.[-\.\d,]*\.\d{2})@@(\d{4})]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="1"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="2"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="Description" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="3"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="AmountMoney" result-type="currency_payment">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="CardNo" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="5"></operation>
					</field-extractor>
				</object-segment>
			</object-segment>
		</page-extractor>

		<page-extractor id="heijin_page-extractor_1">
			<page-sources>
				<source field="pageContent"></source>
			</page-sources>
			<object-segment name="bankBills">
				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="regex" index="1"><![CDATA[billMonth=(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="yearTemp" field="temp" source="BillMonth" field-visible-type="request" not-empty="true">
					<operation type="regex" index="1"><![CDATA[(\d{4})]]></operation>
				</field-extractor>

				<field-extractor id="basicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[//span/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[尊敬的([^，]*)..，.好.*本期还款总额(￥[-\.\d,]+).*最低还款额(￥[-\.\d,]+).*还款日([\d/]+)账单周期([\d/]*)-(\d{4}[\d/]*)]]></operation>
				</field-extractor>
				<field-extractor id="NameOnCard" field="NameOnCard" result-type="string" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="1"></operation>
					<operation type="trim"></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment" not-empty="true">
					<operation type="matchgroup" source="basicInfoMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="BillStartDate" field="BillStartDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="5"></operation>
				</field-extractor>
				<field-extractor id="BillDate" field="BillDate" result-type="date" format="yyyy/MM/dd">
					<operation type="matchgroup" source="basicInfoMatcher" index="6"></operation>
				</field-extractor>

				<field-extractor id="detailTempMatcher" field="temp" not-empty="true">
					<operation type="xpath"><![CDATA[tr:contains(上期账单金额):not(:contains(最低还款额)) + tr:matches([\d\.]{3,}) tr:contains(￥):not(:has(tr))/text(@@)]]></operation>
					<operation type="regex"><![CDATA[￥[-\.\d,]*@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)@@(￥[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="LastBalance" field="LastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="LastPayment" field="LastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="NewCharges" field="NewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="Adjustment" field="Adjustment" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="Interest" field="Interest" result-type="currency_payment">
					<operation type="matchgroup" source="detailTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 积分 -->
				<field-extractor id="integralTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(本期新增积分)+ tr:matches(\d)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[(\d+)@@\d+@@(\d+)@@(\d+)@@(\d+)@@(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="field-extractor_15" field="Integral" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_16" field="IntegralAdd" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_17" field="IntegralAdjust" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="3"></operation>
				</field-extractor>
				<field-extractor id="IntegralReward" field="IntegralReward" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="field-extractor_18" field="IntegralUsed" result-type="number">
					<operation type="matchgroup" source="integralTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 外币账户 -->
				<field-extractor id="fcBasicInfoMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(美元账户) + tr:contains(本期还款总额)/text( )]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="\?" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[New Balance *(\$[-\.\d,]*).*Payment *(\$[-\.\d,]*).*Interest (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*) (\$[-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="FCNewBalance" field="FCNewBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="1"></operation>
				</field-extractor>
				<field-extractor id="FCMinPayment" field="FCMinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="2"></operation>
				</field-extractor>
				<field-extractor id="FCLastBalance" field="FCLastBalance" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="4"></operation>
				</field-extractor>
				<field-extractor id="FCLastPayment" field="FCLastPayment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="5"></operation>
				</field-extractor>
				<field-extractor id="FCNewCharges" field="FCNewCharges" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="6"></operation>
				</field-extractor>
				<field-extractor id="FCAdjustment" field="FCAdjustment" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="7"></operation>
				</field-extractor>
				<field-extractor id="FCInterest" field="FCInterest" result-type="currency_payment">
					<operation type="matchgroup" source="fcBasicInfoMatcher" index="8"></operation>
				</field-extractor>

				<object-segment name="ShoppingSheet" type="xpath" value="tr:contains(记账日):contains(Trans Date):not(:matches(\d{4})) ~ tr:matches(\d{4}) tr:matches(\d+):not(:has(tr))">
					<field-extractor id="shoppingSheetMatcher" field="temp">
						<operation type="xpath"><![CDATA[/text(@@)]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation from=" " to="" type="replace"></operation>
						<operation type="regex"><![CDATA[(\d{4})?@@(\d{4})?@@(.*)@@(.[-\.\d,]*\.\d{2})@@(\d{4})]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="1"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="2"></operation>
						<operation type="append" index="0">${yearTemp}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="Description" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="3"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="AmountMoney" result-type="currency_payment">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="CardNo" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="5"></operation>
					</field-extractor>
				</object-segment>
			</object-segment>
		</page-extractor>

		<page-extractor id="ebank_page-extractor_1">
			<page-sources>
				<source field="pageContent"></source>
				<source field="NameOnCard"></source>
				<source field="ColumnOfDate"></source>
			</page-sources>
			<object-segment name="bankBills">
				<field-extractor id="NameOnCard" field="NameOnCard" not-empty="true">
					<operation type="template"><![CDATA[${NameOnCard}]]></operation>
				</field-extractor>
				<field-extractor id="BillMonth" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="template"><![CDATA[${ColumnOfDate}]]></operation>
				</field-extractor>
				<field-extractor id="yearTemp" field="temp" source="BillMonth" field-visible-type="request" not-empty="true">
					<operation type="regex" index="1"><![CDATA[(\d{4})]]></operation>
				</field-extractor>


				<field-extractor id="CreditLimit" field="CreditLimit" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(信用额度) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="BillDate" field="BillDate" result-type="date" format="yyyy-MM-dd" not-empty="true">
					<operation type="xpath"><![CDATA[tr:contains(账单日):not(:contains(每月))/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[([\d\-]+)]]></operation>
				</field-extractor>
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyy-MM-dd">
					<operation type="xpath"><![CDATA[tr:contains(到期还款日):not(:contains(本期))/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[([\d\-]+)]]></operation>
				</field-extractor>


				<field-extractor id="RMBAccountTemp" field="temp">
					<operation type="xpath"><![CDATA[div:contains(人民币账户) + div]]></operation>
				</field-extractor>
				<field-extractor id="NewBalance" field="NewBalance" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(本期应还金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="MinPayment" field="MinPayment" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(最低还款金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="LastBalance" field="LastBalance" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(上期账单金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="LastPayment" field="LastPayment" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(上期还款金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="NewCharges" field="NewCharges" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(本期账单金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="Adjustment" field="Adjustment" source="RMBAccountTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(本期调整金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="Interest" field="Interest" source="RMBAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(循环利息) + td/text()]]></operation>
				</field-extractor>

				<field-extractor id="ForeignAccountTemp" field="temp">
					<operation type="xpath"><![CDATA[div:contains(美元账户) + div]]></operation>
				</field-extractor>
				<field-extractor id="FCNewBalance" field="FCNewBalance" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(本期应还金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCMinPayment" field="FCMinPayment" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(最低还款金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCLastBalance" field="FCLastBalance" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(上期账单金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCLastPayment" field="FCLastPayment" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(上期还款金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCNewCharges" field="FCNewCharges" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(本期账单金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCAdjustment" field="FCAdjustment" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(本期调整金额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="FCInterest" field="FCInterest" source="ForeignAccountTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(循环利息) + td/text()]]></operation>
				</field-extractor>

				<field-extractor id="IntegralTemp" field="temp">
					<operation type="xpath"><![CDATA[div:contains(积分统计) + div]]></operation>
				</field-extractor>
				<field-extractor id="Integral" field="Integral" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[td:contains(可用积分余额) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="IntegralAdd" field="IntegralAdd" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[td:contains(本期新增积分) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="IntegralAdjust" field="IntegralAdjust" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[td:contains(本期调整积分) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="IntegralReward" field="IntegralReward" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[td:contains(本期奖励积分) + td/text()]]></operation>
				</field-extractor>
				<field-extractor id="IntegralUsed" field="IntegralUsed" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[td:contains(本期兑换积分) + td/text()]]></operation>
				</field-extractor>

				<object-segment name="ShoppingSheet" type="xpath" value="button.rowbtn[onclick^=QueryListDetail]">
					<field-extractor id="shoppingSheetMatcher" field="temp">
						<operation type="regex"><![CDATA[QueryListDetail\('([^']*)', ?'([^']*)','([^']*)','([^']*)','([^']*)',]]></operation>
					</field-extractor>

					<field-extractor id="TransDate" field="TransDate" result-type="date" format="yyyy-MM-dd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="1"></operation>
						<operation type="append" index="0">${yearTemp}-</operation>
					</field-extractor>
					<field-extractor id="PostDate" field="PostDate" result-type="date" format="yyyy-MM-dd">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="2"></operation>
						<operation type="append" index="0">${yearTemp}-</operation>
					</field-extractor>
					<field-extractor id="Description" field="Description" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="3"></operation>
					</field-extractor>
					<field-extractor id="AmountMoney" field="AmountMoney" result-type="currency_payment">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="CardNo" field="CardNo" result-type="string">
						<operation type="matchgroup" source="shoppingSheetMatcher" index="5"></operation>
					</field-extractor>
				</object-segment>

			</object-segment>
		</page-extractor>

	</page-extractor-definition>
	<plugin-definition>

	</plugin-definition>
</config>