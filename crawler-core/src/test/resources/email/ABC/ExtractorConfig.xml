<?xml version="1.0" encoding="UTF-8"?>
<config>
	<extrator-selectors>
		<selector field="pageContent" contain="账务明细" dis-contain="" ref="page-extractor_15new" />
		<selector field="pageContent" contain="media.abchina.com/creditcard" dis-contain="" ref="page-extractor_15" />
		<selector field="pageContent" contain="金穗信用卡电子对账单" dis-contain="" ref="page-extractor_14" />
		<selector field="pageContent" contain="白金信用卡电子对账单" dis-contain="" ref="page-extractor_baijin" />
	</extrator-selectors>

	<page-extractor-definition>
		<page-extractor id="page-extractor_baijin">
			<page-sources>
				<source field="pageContent">
				</source>
			</page-sources>

			<object-segment name="bankBills">
				<!-- Temp Field Start -->
				<field-extractor id="CreditTemp" field="temp" result-type="string">
					<operation type="xpath"><![CDATA[tr:contains(信用额度):contains(最低还款额):not(:has(tr))~tr]]></operation>
				</field-extractor>
				<field-extractor id="IntegralTempMatcher" field="temp" result-type="string">
					<operation type="xpath"><![CDATA[tr:contains(本期新增积分):contains(本期积分余额):not(:has(tr))~tr]]></operation>
				</field-extractor>
				<field-extractor id="LastPaymentTemp" field="temp" result-type="string">
					<operation type="xpath"><![CDATA[tr:contains(上期余额):contains(本期已还款额):not(:has(tr))~tr]]></operation>
				</field-extractor>
				<field-extractor id="ShoppingSheetTemp" field="temp" result-type="string">
					<operation type="xpath"><![CDATA[tr:contains(交易日):contains(记账日):not(:has(tr:contains(交易日):contains(记账日)))~tr]]></operation>
				</field-extractor>
				<field-extractor id="InstallmentTemp" field="temp" result-type="string">
					<operation type="xpath"><![CDATA[tr:contains(分期类型):contains(分期总本金):not(:has(tr:contains(分期类型):contains(分期总本金)))~tr]]></operation>
				</field-extractor>
				<!-- Temp Field End -->

				<!-- *************************************** Field Start *************************************** -->
				<!-- 姓名 -->
				<field-extractor id="field_name" field="NameOnCard" result-type="string" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(尊敬的):not(:has(span:contains(尊敬的))) span/text()]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation from="/" to="" type="replace"></operation>
					<operation from="先生|女士" to="" type="replace"></operation>
				</field-extractor>
				<!-- 账单日 -->
				<field-extractor id="field_bill_date" field="BillDate" result-type="date" format="yyyyMMdd" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(账单日):not(:has(span:contains(账单日)))/text()]]></operation>
					<operation from=":" to="" type="replace"></operation>
					<operation type="regex" index="1"><![CDATA[(\d+)]]></operation>
				</field-extractor>
				<!--账单月 -->
				<field-extractor id="field_bill_month" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(账单日):not(:has(span:contains(账单日)))/text()]]></operation>
					<operation from=":" to="" type="replace"></operation>
					<operation type="regex" index="1"><![CDATA[(\d+)]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{6})\d{2}]]></operation>
				</field-extractor>
				<!-- 到期日期 -->
				<object-segment name="PaymentDueDate" result-class="date" type="xpath" value="span:contains(到期还款日):not(:has(span:contains(到期还款日)))/text()">
					<field-extractor id="PaymentDueDate" field="PaymentDueDate" source="CreditTemp" result-type="date" format="yyyyMMdd">
						<operation from=":" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[(\d+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 卡号 -->
				<object-segment name="CardNums" result-class="string" type="xpath" value="span:contains(卡号):contains(:):not(:has(span:contains(卡号):contains(:)))/text()">
					<field-extractor id="CardNums" field="CardNums" source="CreditTemp" result-type="string">
						<operation from=":" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[.*(\d{4})]]></operation>
					</field-extractor>
				</object-segment>

				<!-- 人民币额度 -->
				<object-segment name="CreditLimit" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="field_credit_limt" field="CreditLimit" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 本期应还款额 -->
				<object-segment name="NewBalance" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 本期最低还款 -->
				<object-segment name="MinPayment" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>

				<!-- 美元额度 -->
				<object-segment name="FCCreditLimit" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="field_credit_limt" field="FCCreditLimit" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 本期应还款额 -->
				<object-segment name="FCNewBalance" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="FCNewBalance" field="FCNewBalance" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 本期最低还款 -->
				<object-segment name="FCMinPayment" source="CreditTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="FCMinPayment" field="FCMinPayment" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
					</field-extractor>
				</object-segment>

				<!-- 积分余额 -->
				<object-segment name="Integral" source="IntegralTempMatcher" result-class="number" type="xpath" value="tr">
					<field-extractor id="field_integral" field="Integral" result-type="number">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 积分新增 -->
				<object-segment name="IntegralAdd" source="IntegralTempMatcher" result-class="number" type="xpath" value="tr">
					<field-extractor id="field_integral_add" field="IntegralAdd" result-type="number">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 积分使用 -->
				<object-segment name="IntegralUsed" source="IntegralTempMatcher" result-class="number" type="xpath" value="tr">
					<field-extractor id="field_integral_used" field="IntegralUsed" result-type="number">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)]]></operation>
					</field-extractor>
				</object-segment>


				<!-- 上期欠款 -->
				<object-segment name="LastBalance" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="field_last_balance" field="LastBalance" source="LastPaymentTemp" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 本期新增 -->
				<object-segment name="NewCharges" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="field_new_charges" field="NewCharges" source="LastPaymentTemp" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
					</field-extractor>
				</object-segment>
				<!-- 上期还款 -->
				<object-segment name="LastPayment" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(CNY)">
					<field-extractor id="field_last_payment" field="LastPayment" source="LastPaymentTemp" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
					</field-extractor>
				</object-segment>

				<!-- 上期欠款 -->
				<object-segment name="FCNewBalance" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="FCNewBalance" field="FCNewBalance" source="LastPaymentTemp" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="append" index="0">美元</operation>
					</field-extractor>
				</object-segment>
				<!-- 本期新增 -->
				<object-segment name="FCNewCharges" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="FCNewCharges" field="FCNewCharges" source="LastPaymentTemp" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="append" index="0">美元</operation>
					</field-extractor>
				</object-segment>
				<!-- 上期还款 -->
				<object-segment name="FCLastPayment" source="LastPaymentTemp" result-class="currency_payment" type="xpath" value="tr:contains(USD)">
					<field-extractor id="FCLastPayment" field="FCLastPayment" source="LastPaymentTemp" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation type="append" index="0">美元</operation>
					</field-extractor>
				</object-segment>


				<object-segment name="ShoppingSheet" source="ShoppingSheetTemp" type="xpath" value="tr">
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="CardNo" result-type="string">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="temp" result-type="string">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="Description" result-type="string">
						<operation type="xpath"><![CDATA[//td[5]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="append" index="0">${field-extractor_4}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_6" field="CurrencyType" result-type="currency">
						<operation type="xpath"><![CDATA[//td[7]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[/(.*)]]></operation>
					</field-extractor>
					<field-extractor id="AmountMoney" field="AmountMoney" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[7]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[([\d\.,-]+)]]></operation>
						<operation type="append" index="0">${field-extractor_6}</operation>
					</field-extractor>
				</object-segment>

				<object-segment name="Installment" type="xpath" source="InstallmentTemp" value="tr">
					<field-extractor id="InstallmentInfo" field="InstallmentInfo" result-type="string">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<!-- 分期日期 -->
					<field-extractor id="InstallmentDate" field="InstallmentDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
					</field-extractor>
					<!-- 分期总金额 -->
					<field-extractor id="field_ImTotalBalance" field="ImTotalBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation from="/" to="" type="replace"></operation>
					</field-extractor>
					<!-- 分期当期期数 -->
					<field-extractor id="RecordedTerm" field="RecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)/]]></operation>
					</field-extractor>
					<!-- 分期剩余期数 -->
					<field-extractor id="UnRecordedTerm" field="UnRecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation type="regex" index="1"><![CDATA[(/[\d]+)]]></operation>
					</field-extractor>
					<!-- 总期数 -->
					<field-extractor id="ImTotalTerm" field="ImTotalTerm" result-type="number">
						<operation type="calculate">${RecordedTerm}+${UnRecordedTerm}</operation>
					</field-extractor>

					<!-- 分期本期金额 -->
					<field-extractor id="ImNewBalance" field="ImNewBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[5]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation from="/" to="" type="replace"></operation>
					</field-extractor>
					<!-- 分期剩余本金 -->
					<field-extractor id="UnRecordedBalance" field="UnRecordedBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[6]/text()]]></operation>
						<operation from="&amp;nbsp;" to="" type="replace"></operation>
						<operation from="/" to="" type="replace"></operation>
					</field-extractor>
				</object-segment>
			</object-segment>
		</page-extractor>

		<page-extractor id="page-extractor_15new">
			<page-sources>
				<source field="pageContent">
				</source>
			</page-sources>

			<object-segment name="bankBills">
				<!-- Temp Field Start -->
				<!-- 卡号@@625996******1805@@账单日@@20151007@@到期还款日@@20151101@@您的积分信息统计周期为“上个账单日当天”至“本账单日的前一日”@@ -->
				<field-extractor id="CreditTemp" field="temp">
					<operation type="xpath"><![CDATA[tr:has(:contains(账单日)):not(:has(tr))/text(@@)]]></operation>
				</field-extractor>
				<field-extractor id="CreditTemp" field="temp" stand-by="true">
					<operation type="xpath"><![CDATA[tr:has(:contains(还款日)):not(:has(tr))/text(@@)]]></operation>
				</field-extractor>
				<!-- 人民币(CNY)@@-1690.53@@-169.05@@20000.00@@ -->
				<field-extractor id="BalanceTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(信用额度) + tr:contains(人民币)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[([^@]*)@@([-\.\d,]*)@@([-\.\d,]*)@@([-\.\d,]*)]]></operation>
				</field-extractor>
				<field-extractor id="BalanceTempMatcher" field="temp" stand-by="true">
					<operation type="xpath"><![CDATA[tr:contains(信用额度) + tr:contains(美元)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[([^@]*)@@([-\.\d,]*)@@([-\.\d,]*)@@([-\.\d,]*)]]></operation>
				</field-extractor>
				<!-- 积分临时变量 @@积分明细@@本期新增：@@753@@本期扣减：@@0@@可用余额：@@34429@@ -->
				<field-extractor id="IntegralTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(本期新增积分):contains(Points)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[Remaining@@(\d+)@@(\d+)@@(\d+)@@]]></operation>
				</field-extractor>
				<field-extractor id="LastPaymentTemp" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(上期余额):contains(Balance) + tr:matches([\d\-]+):not(:contains(温馨提示))]]></operation>
					<operation type="xpath"><![CDATA[tr:not(:has(tr))]]></operation>
				</field-extractor>
				<!-- Temp Field End -->

				<!-- *************************************** Field Start *************************************** -->
				<!-- 姓名 -->
				<field-extractor id="field_name" field="NameOnCard" result-type="string" not-empty="true">
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[尊敬的(.{1,10})先生]]></operation>
				</field-extractor>
				<!-- 账单日 -->
				<field-extractor id="field_bill_date" source="CreditTemp" field="BillDate" result-type="date" format="yyyyMMdd" >
					<operation type="regex" index="1"><![CDATA[账单日\s*@@\s*(\d{8})]]></operation>
				</field-extractor>
				<!--账单月 -->
				<field-extractor id="field_bill_month" source="CreditTemp" field="BillMonth" result-type="date" format="yyyyMM" >
					<operation type="regex" index="1"><![CDATA[账单日\s*@@\s*(\d{6})]]></operation>
				</field-extractor>
				<field-extractor id="field_bill_date" source="CreditTemp" field="BillDate" result-type="date" format="yyyyMMdd" not-empty="true" stand-by="true">
					<operation type="regex" index="2"><![CDATA[\s*@@\s*(\d{8})-(\d{8})\s*@@\s*]]></operation>
				</field-extractor>
				<!--账单月 -->
				<field-extractor id="field_bill_month" source="CreditTemp" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true" stand-by="true">
					<operation type="regex" index="2"><![CDATA[\s*@@\s*(\d{8})-(\d{6})\d{2}\s*@@\s*]]></operation>
				</field-extractor>
				<!-- 到期日期 -->
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" source="CreditTemp" result-type="date" format="yyyyMMdd">
					<operation type="regex" index="1"><![CDATA[还款日\s*@@\s*(\d{8})]]></operation>
				</field-extractor>
				<!-- 卡号 -->
				<field-extractor id="CardNums" field="CardNums" source="CreditTemp" result-type="string">
					<operation type="regex" index="1"><![CDATA[卡号@@([\d\*]+)]]></operation>
					<operation type="regex" index="1"><![CDATA[.*(\d{4})]]></operation>
				</field-extractor>

				<!-- 币种temp -->
				<field-extractor id="CurrenyType" field="temp">
					<operation type="matchgroup" source="BalanceTempMatcher" index="1"></operation>
				</field-extractor>
				<!-- 人民币额度 -->
				<field-extractor id="field_credit_limt" field="CreditLimit" source="CreditTemp" result-type="currency_payment" not-empty="true">
					<operation type="matchgroup" source="BalanceTempMatcher" index="4"></operation>
					<operation type="append" index="0">${CurrenyType}</operation>
				</field-extractor>
				<!-- 本期应还款额 -->
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" format="~">
					<operation type="matchgroup" source="BalanceTempMatcher" index="2"></operation>
					<operation type="append" index="0">${CurrenyType}</operation>
				</field-extractor>
				<!-- 本期最低还款 -->
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment" format="~">
					<operation type="matchgroup" source="BalanceTempMatcher" index="3"></operation>
					<operation type="append" index="0">${CurrenyType}</operation>
				</field-extractor>

				<!-- 积分余额 -->
				<field-extractor id="field_integral" field="Integral" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="3"></operation>
				</field-extractor>
				<!-- 积分新增 -->
				<field-extractor id="field_integral_add" field="IntegralAdd" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="1"></operation>
				</field-extractor>
				<!-- 积分使用 -->
				<field-extractor id="field_integral_used" field="IntegralUsed" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="2"></operation>
				</field-extractor>

				<!-- 币种temp -->
				<field-extractor id="LastPaymentTemp_CurrenyType" source="LastPaymentTemp" field="temp">
					<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
				</field-extractor>
				<!-- 上期欠款 -->
				<field-extractor id="field_last_balance" field="LastBalance" source="LastPaymentTemp" result-type="currency_payment" format="~">
					<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>
				<!-- 本期新增 -->
				<field-extractor id="field_new_charges" field="NewCharges" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>
				<!-- 上期还款 -->
				<field-extractor id="field_last_payment" field="LastPayment" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>


				<object-segment name="ShoppingSheet" type="xpath" value="tr:contains(交易日):not(:matches([\d]{8})) ~ tr:matches([\d]{8}):not(:contains(可用次数)):not(:contains(当期期数))">
					<!-- 形如0204``0204``3740``跨行消费``便付宝专营店零售&nbsp;&nbsp; &nbsp; 银联山东省``800.00/CNY -->
					<field-extractor id="SheetTempMatcher" field="temp">
						<operation type="xpath"><![CDATA[/text(``)]]></operation>
						<operation type="regex"><![CDATA[(\d*)``(\d*)``([^`]*)``([^`]*)``([^`]*)``([^`]+)``([^`]+)]]></operation>
					</field-extractor>
					<field-extractor id="SheetTempMatcher" field="temp" stand-by="true">
						<operation type="xpath"><![CDATA[/text(``)]]></operation>
						<operation type="regex"><![CDATA[(\d*)``(\d*)``([^`]*)``([^`]*)(``)([^`]+)``([^`]+)]]></operation>
					</field-extractor>
					<!-- 20160619``20160619``1327``986.00/CNY``986.00/CNY`` 当交易摘要和交易地点为空时-->
					<field-extractor id="SheetTempMatcher" field="temp" stand-by="true">
						<operation type="xpath"><![CDATA[/text(``)]]></operation>
						<operation type="regex"><![CDATA[(\d*)``(\d*)``(\d*)((``))([^`]*)``([^`]+)]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="SheetTempMatcher" index="1"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="SheetTempMatcher" index="2"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="CardNo" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="3"></operation>
						<operation type="regex" index="1"><![CDATA[(\d+)]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="temp" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="Description" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="5"></operation>
						<operation type="append" index="0">${field-extractor_4}</operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
						<operation type="replace" from="\?" to="" />
						<operation type="replace" from="`" to="" />
					</field-extractor>
					<field-extractor id="field-extractor_6" field="CurrencyType" result-type="currency">
						<operation type="matchgroup" source="SheetTempMatcher" index="6"></operation>
					</field-extractor>
					<field-extractor id="AmountMoney" field="AmountMoney" result-type="currency_payment" format="~">
						<operation type="matchgroup" source="SheetTempMatcher" index="7"></operation>
					</field-extractor>
				</object-segment>

				<object-segment name="Installment" type="xpath" value="tr:contains(分期类型):contains(期数) ~ tr:matches(\d{8}) tr:has(td:eq(7)):not(:has(tr)):matches(\d{8}):has(td:eq(3):not(:matches(\d{4})))">
					<field-extractor id="InstallmentInfo" field="InstallmentInfo" result-type="string" >
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
					</field-extractor>
					<!-- 分期日期 -->
					<field-extractor id="InstallmentDate" field="InstallmentDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
					</field-extractor>
					<!-- 分期总金额 -->
					<field-extractor id="field_ImTotalBalance" field="ImTotalBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
					</field-extractor>
					<!-- 总期数 -->
					<field-extractor id="ImTotalTerm" field="ImTotalTerm" result-type="number">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
					</field-extractor>
					<!-- 分期当期期数 -->
					<field-extractor id="RecordedTerm" field="RecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[//td[5]/text()]]></operation>
					</field-extractor>
					<!-- 分期剩余期数 -->
					<field-extractor id="UnRecordedTerm" field="UnRecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[//td[6]/text()]]></operation>
					</field-extractor>
					<!-- 分期本期金额 -->
					<field-extractor id="ImNewBalance" field="ImNewBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[7]/text()]]></operation>
					</field-extractor>
					<!-- 分期剩余本金 -->
					<field-extractor id="UnRecordedBalance" field="UnRecordedBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[8]/text()]]></operation>
					</field-extractor>
				</object-segment>

				<object-segment name="Installment" stand-by="true" type="xpath" value="div#reportPanel2 div#loopBand1 > table > tbody > tr">
					<field-extractor id="RowTemp" field="temp">
						<operation type="xpath"><![CDATA[div#fixBand6 > table>tbody>tr>td>table]]></operation>
					</field-extractor>
					<!-- 分期信息 -->
					<field-extractor id="field_InstallmentInfo" source="RowTemp" field="InstallmentInfo" result-type="string">
						<operation type="xpath"><![CDATA[div#fixBand10 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
					</field-extractor>
					<!-- 分期剩余期数 -->
					<field-extractor id="field_UnRecordedTerm" source="RowTemp" field="UnRecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[div#fixBand20 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[/([\d]+)]]></operation>
					</field-extractor>
					<!-- 分期当期期数 -->
					<field-extractor id="field_RecordedTerm" source="RowTemp" field="RecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[div#fixBand20 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)/]]></operation>
					</field-extractor>
					<!-- 分期日期 -->
					<field-extractor id="field_InstallmentDate" source="RowTemp" field="InstallmentDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[div#fixBand15 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
					</field-extractor>
					<!-- 分期总金额 -->
					<field-extractor id="field_ImTotalBalance" source="RowTemp" field="ImTotalBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand19 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>
					<!-- 分期本期金额 -->
					<field-extractor id="field_ImNewBalance" source="RowTemp" field="ImNewBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand21 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>
					<!-- 分期剩余本金 -->
					<field-extractor id="field_UnRecordedBalance" source="RowTemp" field="UnRecordedBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand22 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>
				</object-segment>
			</object-segment>
		</page-extractor>


		<page-extractor id="page-extractor_15">
			<page-sources>
				<source field="pageContent">
				</source>
			</page-sources>

			<object-segment name="bankBills">
				<!-- Temp Field Start -->
				<!-- 账单日 + 额度临时变量 -->
				<field-extractor id="CreditTemp" field="temp">
					<operation type="xpath"><![CDATA[tr:has(:contains(账单日)):not(:has(tr))]]></operation>
				</field-extractor>
				<!-- 欠款临时变量 404117******8295@@人民币(CNY)@@-1069.61@@106.96@@20150811@@ -->
				<!-- @@469146******9046@@美元(USD)@@-1016.33@@589.53@@*20151008@@合计(CNY)@@-6492.62@@3766.09@@ -->
				<field-extractor id="BalanceTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(账户信息) + tr:contains(***)/text(@@)]]></operation>
					<operation from="&amp;nbsp;" to="" type="replace"></operation>
					<operation type="regex"><![CDATA[\*(\d{4})@@([^@]*)@@([-\.\d,]*)@@([-\.\d,]*)@@*(\d{8})]]></operation>
				</field-extractor>
				<!-- 积分临时变量 @@积分明细@@本期新增：@@753@@本期扣减：@@0@@可用余额：@@34429@@ -->
				<field-extractor id="IntegralTempMatcher" field="temp">
					<operation type="xpath"><![CDATA[table:contains(本期新增):contains(积分明细)/text(@@)]]></operation>
					<operation type="regex"><![CDATA[新增：@@(\d+).*扣减：@@(\d+).*余额：@@(\d+)]]></operation>
				</field-extractor>
				<field-extractor id="LastPaymentTemp" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(上期余额):contains(争议) + tr:matches([\d\-]+):not(:contains(温馨提示))]]></operation>
					<operation type="xpath"><![CDATA[tr:not(:has(tr))]]></operation>
				</field-extractor>
				<!-- Temp Field End -->

				<!-- *************************************** Field Start *************************************** -->

				<!-- 姓名 -->
				<field-extractor id="field_name" field="NameOnCard" result-type="string" not-empty="true" >
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="replace" from="&amp;nbsp;" to="" />
					<operation type="regex" index="1"><![CDATA[尊敬的(.{1,10})先生]]></operation>
				</field-extractor>
				<!-- 账单日 -->
				<field-extractor id="field_bill_date" source="CreditTemp" field="BillDate" result-type="date" format="yyyyMMdd" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(账单日) + td]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{8})]]></operation>
				</field-extractor>
				<!--账单月 -->
				<field-extractor id="field_bill_month" source="CreditTemp" field="BillMonth" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(账单日) + td]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{6})]]></operation>
				</field-extractor>

				<!-- 账单年份 -->
				<field-extractor id="field_bill_year" field="temp" source="field_bill_month" field-visible-type="request">
					<operation type="regex" index="1"><![CDATA[(\d{4})]]></operation>
				</field-extractor>

				<!-- 人民币额度 -->
				<field-extractor id="field_credit_limt" field="CreditLimit" source="CreditTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(信用额度) + td]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[([\d\.]+[\w ]+)]]></operation>
				</field-extractor>
				<!-- 外币额度 -->
				<field-extractor id="FCCreditLimit" field="FCCreditLimit" source="CreditTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(信用额度) + td]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[/([\d\.]+[\w ]+)]]></operation>
				</field-extractor>
				<!-- 卡欠款汇总信息,目前只有人民币,没有外币账单 -->
				<!-- 卡号 -->
				<field-extractor id="CardNums" field="CardNums" result-type="string">
					<operation type="matchgroup" source="BalanceTempMatcher" index="1"></operation>
					<operation type="regex" index="1"><![CDATA[.*(\d{4})]]></operation>
				</field-extractor>

				<!-- 币种temp -->
				<field-extractor id="CurrenyType" field="temp">
					<operation type="matchgroup" source="BalanceTempMatcher" index="2"></operation>
				</field-extractor>

				<!-- 本期应还款额 -->
				<field-extractor id="NewBalance" field="NewBalance" result-type="currency_payment" format="~">
					<operation type="matchgroup" source="BalanceTempMatcher" index="3"></operation>
					<operation type="append" index="0">${CurrenyType}</operation>
				</field-extractor>

				<!-- 本期最低还款 -->
				<field-extractor id="MinPayment" field="MinPayment" result-type="currency_payment">
					<operation type="matchgroup" source="BalanceTempMatcher" index="4"></operation>
					<operation type="append" index="0">${CurrenyType}</operation>
				</field-extractor>

				<!-- 到期日期 -->
				<field-extractor id="PaymentDueDate" field="PaymentDueDate" result-type="date" format="yyyyMMdd">
					<operation type="matchgroup" source="BalanceTempMatcher" index="5"></operation>
				</field-extractor>

				<!-- 积分余额 -->
				<field-extractor id="field_integral" field="Integral" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="3"></operation>
				</field-extractor>
				<!-- 积分新增 -->
				<field-extractor id="field_integral_add" field="IntegralAdd" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="1"></operation>
				</field-extractor>
				<!-- 积分使用 -->
				<field-extractor id="field_integral_used" field="IntegralUsed" result-type="number">
					<operation type="matchgroup" source="IntegralTempMatcher" index="2"></operation>
				</field-extractor>


				<!-- 币种temp -->
				<field-extractor id="LastPaymentTemp_CurrenyType" source="LastPaymentTemp" field="temp">
					<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
				</field-extractor>
				<!-- 上期欠款 -->
				<field-extractor id="field_last_balance" field="LastBalance" source="LastPaymentTemp" result-type="currency_payment" format="~">
					<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>
				<!-- 本期新增 -->
				<field-extractor id="field_new_charges" field="NewCharges" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>
				<!-- 上期还款 -->
				<field-extractor id="field_last_payment" field="LastPayment" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
					<operation type="append" index="0">${LastPaymentTemp_CurrenyType}</operation>
				</field-extractor>

				<field-extractor id="SheetTempText" field="temp">
					<operation type="xpath"><![CDATA[tr:contains(交易日) + tr:not(:contains(交易日)):not(:contains(温馨提示))/text(``)]]></operation>
				</field-extractor>

				<object-segment name="ShoppingSheet" source="SheetTempText" type="regex" value="(\d{4}``\d{4}``[^`]*``[^`]*``[^`]*``[^`]*``[^`]*)" group-index="1">
					<!-- 形如0204``0204``3740``跨行消费``便付宝专营店零售&nbsp;&nbsp; &nbsp; 银联山东省``800.00/CNY -->
					<field-extractor id="SheetTempMatcher" field="temp">
						<operation type="regex"><![CDATA[(\d{4})``(\d{4})``([^`]*)``([^`]*)``([^`]*)``([^`]*)``([^`]*)]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="SheetTempMatcher" index="1"></operation>
						<operation type="append" index="0">${field_bill_year}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="matchgroup" source="SheetTempMatcher" index="2"></operation>
						<operation type="append" index="0">${field_bill_year}</operation>
					</field-extractor>
					<field-extractor id="field-extractor_3" field="CardNo" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="3"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="temp" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="4"></operation>
					</field-extractor>
					<field-extractor id="field-extractor_5" field="Description" result-type="string">
						<operation type="matchgroup" source="SheetTempMatcher" index="5"></operation>
						<operation type="append" index="0">${field-extractor_4}</operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
						<operation type="replace" from="\?" to="" />
					</field-extractor>
					<field-extractor id="field-extractor_6" field="CurrencyType" result-type="currency">
						<operation type="matchgroup" source="SheetTempMatcher" index="6"></operation>
						<operation type="regex" index="1"><![CDATA[/([\w]*)]]></operation>
					</field-extractor>
					<field-extractor id="AmountMoney" field="AmountMoney" result-type="currency_payment" format="~">
						<operation type="matchgroup" source="SheetTempMatcher" index="7"></operation>
						<operation type="append" index="0">${field-extractor_6}</operation>
					</field-extractor>
				</object-segment>

				<object-segment name="Installment" type="xpath" value="div#reportPanel2 div#loopBand1 > table > tbody > tr">
					<field-extractor id="RowTemp" field="temp">
						<operation type="xpath"><![CDATA[div#fixBand6 > table>tbody>tr>td>table]]></operation>
					</field-extractor>
					<!-- 分期信息 -->
					<field-extractor id="field_InstallmentInfo" source="RowTemp" field="InstallmentInfo" result-type="string">
						<operation type="xpath"><![CDATA[div#fixBand10 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
					</field-extractor>
					<!-- 分期剩余期数 -->
					<field-extractor id="field_UnRecordedTerm" source="RowTemp" field="UnRecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[div#fixBand20 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[/([\d]+)]]></operation>
					</field-extractor>
					<!-- 分期当期期数 -->
					<field-extractor id="field_RecordedTerm" source="RowTemp" field="RecordedTerm" result-type="number">
						<operation type="xpath"><![CDATA[div#fixBand20 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d]+)/]]></operation>
					</field-extractor>
					<!-- 分期日期 -->
					<field-extractor id="field_InstallmentDate" source="RowTemp" field="InstallmentDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[div#fixBand15 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
					</field-extractor>
					<!-- 分期总金额 -->
					<field-extractor id="field_ImTotalBalance" source="RowTemp" field="ImTotalBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand19 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>
					<!-- 分期本期金额 -->
					<field-extractor id="field_ImNewBalance" source="RowTemp" field="ImNewBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand21 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>
					<!-- 分期剩余本金 -->
					<field-extractor id="field_UnRecordedBalance" source="RowTemp" field="UnRecordedBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[div#fixBand22 font]]></operation>
						<operation type="xpath"><![CDATA[/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d,.]+)/]]></operation>
					</field-extractor>

				</object-segment>
			</object-segment>
		</page-extractor>


		<page-extractor id="page-extractor_14">
			<page-sources>
				<source field="pageContent">
				</source>
			</page-sources>

			<object-segment name="bankBills">
				<!-- Temp Field Start -->
				<!-- 账户币种表格临时存储 -->
				<field-extractor id="CreditTemp" field="temp">
					<operation type="xpath">
						<![CDATA[table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:contains(账户币种) table]]></operation>
				</field-extractor>
				<!-- 上期余额表格临时存储 -->
				<field-extractor id="LastPaymentTemp" field="temp">
					<operation type="xpath">
						<![CDATA[table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:contains(Previous Balance) table]]></operation>
				</field-extractor>
				<!-- 积分表格临时存储 -->
				<field-extractor id="IntegralTemp" field="temp">
					<operation type="xpath">
						<![CDATA[table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:eq(12) table]]></operation>
				</field-extractor>
				<!--账单日临时存储 -->
				<field-extractor id="BillDateTemp" field="temp">
					<operation type="xpath">
						<![CDATA[table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:eq(7)]]></operation>
				</field-extractor>
				<!-- Temp Field End -->

				<!-- *************************************** Field Start *************************************** -->

				<!-- 姓名 -->
				<field-extractor id="field_name" field="NameOnCard" result-type="string" not-empty="true">
					<operation type="xpath">
						<![CDATA[table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:eq(2)]]></operation>
					<operation type="xpath"><![CDATA[//span/span[1]/text()]]></operation>
					<operation type="replace" from="&amp;nbsp;" to="" />
					<operation type="trim" />
				</field-extractor>
				<!-- 卡号 -->
				<field-extractor id="field_card_nums" field="CardNums" source="BillDateTemp" result-type="string" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(主卡卡号)]]></operation>
					<operation type="regex" index="1"><![CDATA[.*(\d{4})]]></operation>
				</field-extractor>
				<!-- 账单日 -->
				<field-extractor id="field_bill_date" field="BillDate" source="BillDateTemp" result-type="date" format="yyyyMMdd" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(账单日)]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{8})]]></operation>
				</field-extractor>
				<!-- 账单月份 -->
				<field-extractor id="field_bill_month" field="BillMonth" source="BillDateTemp" result-type="date" format="yyyyMM" not-empty="true">
					<operation type="xpath"><![CDATA[span:contains(账单日)]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{6})]]></operation>
				</field-extractor>


				<!-- 到期还款日 -->
				<field-extractor id="field_payment_due" field="PaymentDueDate" source="BillDateTemp" result-type="date" format="yyyyMMdd">
					<operation type="xpath"><![CDATA[span:contains(到期还款日)]]></operation>
					<operation type="regex" index="1"><![CDATA[(\d{8})]]></operation>
				</field-extractor>

				<!-- 人民币额度, 额度应该没有负数吧 -->
				<field-extractor id="field_credit_limt" field="CreditLimit" source="CreditTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(CNY) + td/text()]]></operation>
					<operation type="regex" index="1"><![CDATA[([\d.-][^/& ]+)]]></operation>
				</field-extractor>
				<!-- 本期应还, 添加负号,通过format转换:负负为正,单负为负,无数异常 -->
				<field-extractor id="field_new_balance" field="NewBalance" source="CreditTemp" result-type="currency_payment" format="~">
					<operation type="xpath"><![CDATA[td:contains(CNY) ~ td:eq(2)/text()]]></operation>
					<operation type="append" index="0">CNY</operation>
				</field-extractor>
				<!-- 最低还款 -->
				<field-extractor id="field_min_payment" field="MinPayment" source="CreditTemp" result-type="currency_payment" not-empty="true">
					<operation type="xpath"><![CDATA[td:contains(CNY) ~ td:eq(3)/text()]]></operation>
				</field-extractor>

				<!-- 外币额度 -->
				<object-segment name="FCCreditLimit" source="CreditTemp" type="xpath" value="tr:gt(1):not(:contains(合计))" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="FCCreditLimit" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>
				<!-- 外币本期应还 -->
				<object-segment name="FCNewBalance" source="CreditTemp" type="xpath" value="tr:gt(1):not(:contains(合计))" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="FCNewBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d.-][^/& ]+)]]></operation>
						<operation type="append" index="0"><![CDATA[-]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>
				<!-- 外币最低 -->
				<object-segment name="FCMinPayment" source="CreditTemp" type="xpath" value="tr:gt(1):not(:contains(合计))" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="AmountMoney" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>

				<!--上期应还 -->
				<field-extractor id="field_last_balance" field="LastBalance" source="LastPaymentTemp" result-type="currency_payment" format="~">
					<operation type="xpath"><![CDATA[td:contains(CNY) + td/text()]]></operation>
					<operation type="append" index="0">CNY</operation>
				</field-extractor>
				<!-- 本期新增 -->
				<field-extractor id="field_new_charges" field="NewCharges" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(CNY) ~ td:eq(2)]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
				</field-extractor>
				<!-- 上期已还 -->
				<field-extractor id="field_last_payment" field="LastPayment" source="LastPaymentTemp" result-type="currency_payment">
					<operation type="xpath"><![CDATA[td:contains(CNY) ~ td:eq(3)]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
				</field-extractor>

				<!-- 外币额度 -->
				<object-segment name="FCLastBalance" source="LastPaymentTemp" type="xpath" value="tr:gt(1)" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="FCLastBalance" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d.-][^/& ]+)]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>
				<!-- 外币本期应还 -->
				<object-segment name="FCNewCharges" source="LastPaymentTemp" type="xpath" value="tr:gt(1)" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="FCNewCharges" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d.-][^/& ]+)]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>
				<!-- 外币最低 -->
				<object-segment name="FCLastPayment" source="LastPaymentTemp" type="xpath" value="tr:gt(1)" result-class="currency_payment">
					<field-extractor id="field_CurrencyType" field="temp">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[（(.*)）]]></operation>
					</field-extractor>
					<field-extractor id="field_AmountMoney" field="FCLastPayment" result-type="currency_payment">
						<operation type="xpath"><![CDATA[//td[4]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d.-][^/& ]+)]]></operation>
						<operation type="append" index="0">${field_CurrencyType}</operation>
					</field-extractor>
				</object-segment>

				<!-- 积分余额 -->
				<field-extractor id="field_integral" field="Integral" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[tr:eq(1)>td:eq(2)]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="trim" />
				</field-extractor>
				<!-- 积分增加 -->
				<field-extractor id="field_integral_add" field="IntegralAdd" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[tr:eq(1)>td:eq(0)]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="trim" />
				</field-extractor>
				<!-- 积分使用 -->
				<field-extractor id="field_integral_used" field="IntegralUsed" source="IntegralTemp" result-type="number">
					<operation type="xpath"><![CDATA[tr:eq(1)>td:eq(1)]]></operation>
					<operation type="xpath"><![CDATA[/text()]]></operation>
					<operation type="trim" />
				</field-extractor>

				<!-- ShoppingSheet -->
				<object-segment name="ShoppingSheet" type="xpath" value="table:has(a[href=http://www.abchina.com/cn/CreditCard/]) > tbody > tr:eq(10) table tr:gt(0)" contains="\d{8}">
					<field-extractor id="field-extractor_1" field="TransDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[1]/text()]]></operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
						<operation type="trim" />

					</field-extractor>
					<field-extractor id="field-extractor_2" field="PostDate" result-type="date" format="yyyyMMdd">
						<operation type="xpath"><![CDATA[//td[2]/text()]]></operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
						<operation type="trim" />
					</field-extractor>

					<field-extractor id="field-extractor_3" field="Description" result-type="string">
						<operation type="xpath"><![CDATA[//td[4]/text()"//td[5]/text()]]></operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
						<operation type="replace" from="\?" to="" />
						<operation type="trim" />
					</field-extractor>
					<field-extractor id="field-extractor_5" field="CardNo" result-type="string">
						<operation type="xpath"><![CDATA[//td[3]/text()]]></operation>
						<operation type="replace" from="&amp;nbsp;" to="" />
					</field-extractor>
					<field-extractor id="CurrencyType" field="CurrencyType" result-type="currency">
						<operation type="xpath"><![CDATA[//td[6]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[/([\w]*)]]></operation>
					</field-extractor>
					<field-extractor id="field-extractor_4" field="AmountMoney" result-type="currency_payment" format="~">
						<operation type="xpath"><![CDATA[//td[7]/text()]]></operation>
						<operation type="regex" index="1"><![CDATA[([\d.,-]+)/]]></operation>
						<operation type="append" index="0">${CurrencyType}</operation>
					</field-extractor>
					<!-- *************************************** Field End *************************************** -->
				</object-segment>
			</object-segment>
		</page-extractor>


	</page-extractor-definition>
	<plugin-definition>

	</plugin-definition>
</config>